# This is where we define which builds we'd like to run.
# This example includes one minimal global build.

# Each build needs a name, a defined subsampling process, and geographic attributes used for subsampling.
# Geography is specified by build attributes (e.g., `region`, `country`, `division`, `location`) that are referenced from subsampling schemes.

# The default config file, `./defaults/parameters.yaml` has reasonable default subsampling methods for each geographic resolution.
# These subsample primarily from the area of interest ("focus"), and add in background ("contextual") sequences from the rest of the world.
# Contextual sequences that are genetically similar to (hamming distance) and geographically near the focal sequences are heavily prioritized.

# In this example, we use these default methods. See other templates for examples of how to customize this subsampling scheme.
builds:

#######Spike gene only build#######
  spike_global: # <-- build for spike gene-only phylogeny
    subsampling_scheme: region_global #subsample from the globe
    region: global #Don't filter sequences based on geographic origin
    mask:
  # Number of bases to mask from the beginning and end of the alignment. These cover everything up to the beginning
  # of the spike CDS (mask_from_beginning) and after its end (mask_from_end)
      mask_from_beginning: 21562
      mask_from_end: 4519
  # Specific sites to mask in the reference genome's coordinates.
  # These are 1-indexed coordinates of sites that have been identified as prone to sequencing errors.
  # 13402, 24389 and 24390 are restricted to Belgian samples
      mask_sites: "13402 24389 24390"
    filter:
      min_length: 3800 # Require nearly full length spike gene CDS.
    genes: ["S"]


      
#######Nucleocapsid gene only build#######
  n_global:
    subsampling_scheme: region_global
    region: global
    mask:
      mask_from_begininning: 28273
      mask_from_end: 370
      mask_sites: "13402 24389 24390"
    filter:
      min_length: 1200 # Require nearly full length nucleocapsid gene CDS.
    genes: ["N"]

#Apply specific parameters to all above builds
files:
  auspice_config: "my_profiles/example/my_auspice_config.json"
  description: "my_profiles/example/my_description.md"

# Use nextalign instead of MAFFT (appropriate for larger datasets)
use_nextalign: true